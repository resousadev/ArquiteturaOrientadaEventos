spring:
  application:
    name: ms-checkout
  output:
    ansi:
      enabled: ALWAYS

  datasource:
    url: jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/${POSTGRES_DB}?currentSchema=${POSTGRES_SCHEMA:checkout}
    username: ${POSTGRES_USER}
    password: ${POSTGRES_PASSWORD}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
        default_schema: ${POSTGRES_SCHEMA:checkout}

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    schemas: ${POSTGRES_SCHEMA:checkout}
    default-schema: ${POSTGRES_SCHEMA:checkout}

aws:
  region: ${AWS_REGION:us-east-1}
  accessKeyId: ${AWS_ACCESS_KEY_ID}
  secretAccessKey: ${AWS_SECRET_ACCESS_KEY}
  # Endpoint override for LocalStack (leave empty for real AWS)
  endpoint: ${AWS_ENDPOINT:}

eventbridge:
  bus-name: ${EVENTBRIDGE_BUS_NAME:status-pedido-bus}

sqs:
  queue:
    name: ${SQS_QUEUE_NAME:checkout-events-queue}
    url: ${SQS_QUEUE_URL:}

server:
  port: ${SERVER_PORT:8080}

logging:
  level:
    io.resousadev.linuxtips.mscheckout: INFO
    software.amazon.awssdk: WARN
    software.amazon.awssdk.request: WARN
    org.springframework.web: INFO
    org.springframework.boot: INFO
